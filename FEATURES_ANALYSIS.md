# 🎯 Yes Duty Free - 기능 분석 및 개선사항

## 현재 구현 상태 분석

### ✅ 완료된 기능

#### 1. UI/UX 레이아웃
- [x] 반응형 레이아웃 (모바일/데스크톱)
- [x] 상단 네비게이션 (GNB)
- [x] 하단 네비게이션 (모바일)
- [x] 카테고리 서브메뉴
- [x] 푸터

#### 2. 상품 관련
- [x] 상품 카드 컴포넌트
- [x] 상품 상세 페이지
- [x] 카테고리별 필터링
- [x] 상품 이미지 갤러리
- [x] 옵션 선택 UI (용량, 사이즈 등)
- [x] 할인율 표시

#### 3. 사용자 인증
- [x] 로그인 페이지 UI
- [x] 회원가입 페이지 UI
- [x] SNS 로그인 버튼 (카카오, 네이버, 구글)

#### 4. 라이브 방송
- [x] 라이브 목록 섹션
- [x] 라이브 전체화면 뷰 (틱톡 스타일)
- [x] 실시간 시청자 수 표시

#### 5. 관리자
- [x] 관리자 로그인
- [x] 주문/배송 관리 UI
- [x] 물류사 선택
- [x] 송장번호 입력
- [x] 주문 상태 필터링

#### 6. 기타
- [x] 검색창 UI
- [x] 히어로 배너 (자동 슬라이드)
- [x] 인기 검색어 표시

---

### ⚠️ UI는 있지만 로직 없음

#### 1. 장바구니
- ❌ 장바구니 추가 로직 없음
- ❌ 장바구니 페이지 없음
- ❌ 수량 변경 기능 없음
- ❌ 장바구니 데이터 저장 안됨

**필요 작업:**
```typescript
// 장바구니 추가
const addToCart = async (product: Product, quantity: number, options: any) => {
  // Supabase에 저장
};

// 장바구니 조회
const getCartItems = async (userId: string) => {
  // Supabase에서 조회
};
```

#### 2. 주문/결제
- ❌ 주문서 작성 페이지 없음
- ❌ 결제 프로세스 없음
- ❌ 주문 완료 페이지 없음
- ✅ 관리자에서 주문 조회는 가능

**필요 작업:**
- 주문서 작성 페이지 (`CheckoutPage.tsx`)
- 결제 연동 (Stripe, Toss Payments 등)
- 주문 완료 페이지

#### 3. 마이페이지
- ❌ 주문 내역 조회 없음
- ❌ 쿠폰함 없음
- ❌ 포인트 내역 없음
- ❌ 배송지 관리 없음
- ✅ 프로필 UI만 있음

**필요 작업:**
- 주문 내역 리스트
- 주문 상세 조회
- 배송 추적
- 쿠폰함
- 포인트 내역

#### 4. 리뷰
- ❌ 리뷰 작성 기능 없음
- ❌ 리뷰 목록 표시 안됨
- ✅ ProductDetail에 "리뷰 (142)" 탭만 있음

**필요 작업:**
- 리뷰 작성 모달
- 리뷰 목록 표시
- 별점 평균 계산
- 리뷰 이미지 업로드

#### 5. 검색
- ❌ 검색 결과 페이지 없음
- ❌ 검색 로직 없음
- ✅ 검색창 UI만 있음

**필요 작업:**
- 검색 API
- 검색 결과 페이지
- 자동완성
- 검색 필터 (가격, 브랜드 등)

#### 6. 찜하기
- ❌ 찜하기 기능 없음
- ✅ ProductCard에 하트 버튼만 있음

**필요 작업:**
- 찜하기 추가/삭제
- 찜한 상품 목록 페이지

---

### 🆕 추가 제안 기능

#### 1. 포인트/적립금 시스템 ⭐⭐⭐ (추후 진행)
**이유:** 면세점은 적립 혜택이 중요
```typescript
// 구매 시 적립
const earnPoints = (orderAmount: number) => {
  return Math.floor(orderAmount * 0.01); // 1% 적립
};

// 포인트 사용
const usePoints = (userId: string, points: number) => {
  // 포인트 차감
};
```

**테이블:** `users.points` 컬럼 활용

---

#### 2. 실시간 알림 시스템 ⭐⭐⭐ (추후 진행)
**이유:** 주문 상태 변경, 쿠폰 발급 등 알림 필요

**알림 타입:**
- 주문 접수 완료
- 결제 완료
- 상품 준비중
- 배송 시작
- 배송 완료
- 쿠폰 발급
- 이벤트 시작

**기술 스택:**
- Supabase Realtime (웹소켓)
- React Query + Polling

---

#### 3. 재고 관리 ⭐⭐⭐ (추후 진행)
**이유:** 품절 상품 표시 및 재입고 알림

```typescript
interface Product {
  stock_quantity: number;
  is_unlimited_stock: boolean;
}

// 품절 체크
const isOutOfStock = (product: Product) => {
  return !product.is_unlimited_stock && product.stock_quantity === 0;
};
```

**UI 변경:**
- 품절 상품에 "SOLD OUT" 배지
- 재입고 알림 신청 버튼

---

#### 4. 환율 정보 표시 ⭐⭐ (추후 진행)
**이유:** 해외 배송이므로 현지 통화 가격 표시

```typescript
// 원화 → 달러 변환
const convertToUSD = (krw: number, exchangeRate: number) => {
  return (krw / exchangeRate).toFixed(2);
};
```

**UI:**
```
₩125,000
≈ $95.00 USD
```

---

#### 5. 배송 추적 ⭐⭐⭐ (추후 진행)
**이유:** 해외 배송이므로 실시간 위치 추적 중요

**연동 API:**
- DHL API
- EMS API
- FedEx API
- UPS API

**표시 정보:**
- 현재 위치
- 예상 도착일
- 통관 진행 상황

---

#### 6. 관세 계산기 ⭐⭐ (추후 진행)
**이유:** 국가별 관세 정보 제공

```typescript
const calculateCustomsDuty = (
  country: string,
  productCategory: string,
  amount: number
) => {
  // 국가별 관세율 적용
  const dutyRate = DUTY_RATES[country][productCategory];
  return amount * dutyRate;
};
```

---

#### 7. 추천 시스템 ⭐⭐ (추후 진행)
**이유:** 개인화 추천으로 구매 전환율 향상

**추천 로직:**
- 최근 본 상품 기반
- 장바구니 상품 기반
- 같은 카테고리 인기 상품
- 협업 필터링 (비슷한 사용자가 구매한 상품)

---

#### 8. 쿠폰 자동 발급 ⭐⭐ (추후 진행)
**이유:** 마케팅 자동화

**발급 조건:**
- 첫 구매 시 10% 할인 쿠폰
- 생일 쿠폰
- 한 달간 미접속 시 컴백 쿠폰
- 특정 금액 이상 구매 시 다음 구매 쿠폰

---

#### 9. 1:1 문의 채팅 ⭐⭐ (추후 진행)
**이유:** 고객 지원

**기술:**
- Supabase Realtime
- 또는 Tawk.to, Intercom 등 써드파티

---

#### 10. 상품 비교 기능 ⭐ (추후 진행)
**이유:** 비슷한 상품 비교

```
설화수 자음생 세트 A    vs    설화수 자음생 세트 B
₩125,000                     ₩145,000
50ml                         75ml
평점 4.8                     평점 4.9
```

---

#### 11. 최근 본 상품 ⭐⭐ (추후 진행)
**이유:** 재방문 유도

**저장 방식:**
- LocalStorage (비로그인)
- DB (로그인)

---

#### 12. 배송비 무료 조건 표시 ⭐⭐ (추후 진행)
**이유:** 추가 구매 유도

```
현재 장바구니: ₩85,000
무료 배송까지 ₩15,000 남았어요!
```

---

#### 13. 타임세일/한정특가 타이머 ⭐⭐⭐ (추후 진행)
**이유:** 긴급성 부여

```
⏰ 남은 시간: 02:15:43
한정 수량: 12개 남음
```

---

#### 14. 선물하기 기능 ⭐ (추후 진행)
**이유:** 면세품 선물 수요

**프로세스:**
1. 선물하기 선택
2. 받는 사람 정보 입력
3. 메시지 작성
4. 결제
5. 받는 사람에게 링크 전송
6. 받는 사람이 배송지 입력

---

## 기획적 개선 제안

### 1. 회원 등급 시스템 **(우선 진행)** ✅
**3가지 등급:**
- **Basic**: 일반 회원 (1% 적립)
- **Premium**: 월 20만원 이상 (2% 적립, 무료배송)
- **VIP**: 월 50만원 이상 (3% 적립, 무료배송, 전담 CS)

### 2. 프리오더 시스템 (추후 진행) ⏸️
**해외 직구 전용:**
- 현지 출시 전 예약 주문
- 출시 즉시 배송
- 예약 특가

### 3. 멤버십 구독 (추후 진행) ⏸️
**월 9,900원:**
- 매월 10% 할인 쿠폰 3장
- 무료 배송
- 적립금 2배

### 4. 소셜 공유 이벤트 (추후 진행) ⏸️
**공유 시 혜택:**
- SNS 공유 시 포인트 적립
- 친구 초대 시 쿠폰 지급

### 5. 출석 체크 이벤트 (추후 진행) ⏸️
**매일 출석:**
- 연속 출석 시 포인트 적립
- 7일 연속 시 쿠폰 지급

---

## 우선순위별 개발 계획

### 🔴 Phase 1 - MVP (2-3주)
1. 장바구니 완성
2. 주문/결제 프로세스
3. 마이페이지 주문 내역
4. 배송지 관리
5. Supabase 연동

### 🟡 Phase 2 - 핵심 기능 (2주)
6. 리뷰 시스템
7. 찜하기
8. 포인트/적립금
9. 쿠폰 시스템
10. 알림

### 🟠 Phase 3 - 부가 기능 (2주)
11. 검색 완성
12. 재고 관리
13. 배송 추적
14. 최근 본 상품
15. 추천 시스템

### ⚪ Phase 4 - 고급 기능 (2주)
16. **회원 등급 시스템** (우선 진행) ✅
17. 환율 정보 (추후 진행)
18. 관세 계산기 (추후 진행)
19. 선물하기 (추후 진행)
- ~~라이브 채팅~~ (진행 제외)

---

## 기술 스택 제안

### 프론트엔드
- ✅ React 19
- ✅ TypeScript
- ✅ Vite
- ✅ Tailwind CSS
- 🆕 React Query (서버 상태 관리)
- 🆕 Zustand (클라이언트 상태 관리)
- 🆕 React Hook Form (폼 관리)

### 백엔드 (Supabase)
- 🆕 Supabase Auth (인증)
- 🆕 Supabase Database (PostgreSQL)
- 🆕 Supabase Storage (이미지 업로드)
- 🆕 Supabase Realtime (실시간 알림)
- 🆕 Supabase Edge Functions (서버리스)

### 결제
- 🆕 Toss Payments (한국)
- 🆕 Stripe (해외)
- 🆕 PayPal

### 배송 추적
- 🆕 DHL API
- 🆕 EMS API

### 기타
- 🆕 React Email (이메일 템플릿)
- 🆕 Day.js (날짜 처리)
- 🆕 Chart.js (관리자 대시보드)

---

## 다음 작업

1. ✅ 코드 분석 완료
2. ✅ 데이터베이스 설계 완료
3. ✅ 기능 분석 완료
4. ⏭️ **Supabase 연동 시작**
5. ⏭️ 장바구니 구현
6. ⏭️ 주문/결제 구현

**지금 바로 Supabase 연동을 시작하시겠습니까?** 🚀
