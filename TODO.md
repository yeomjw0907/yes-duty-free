# 📋 Yes Duty Free - 해야 할 일 (TODO)

> 진행 상황에 맞춰 체크해 나가면 됩니다.

---

## ✅ 완료된 작업

- [x] Step 0~4: 환경 준비, Supabase, DB 스키마, 시드 데이터, 로컬 설정
- [x] Step 5: 상품/카테고리 Supabase 연동
- [x] Step 6: 회원가입·로그인 연동 (전화번호, 기본 배송지 포함)
- [x] Step 7: 장바구니 CRUD, 장바구니 페이지
- [x] Step 8: 배송지 관리 (국내/해외, 다음 우편번호 API)
- [x] Step 9: 주문/결제 (주문서 → 주문 완료)
- [x] Step 10: 회원 등급 (Basic/Premium/VIP), 적립률·배송비, 주문 후 포인트 적립
- [x] Step 11: 마이페이지, 주문 내역, 주문 상세 모달
- [x] 결제 시 적립금 사용 (used_points, users.points 차감)
- [x] 즉시구매 → 장바구니 페이지 이동, 장바구니에서 삭제 후 결제
- [x] 찜하기 (상품 카드/상세/마이페이지 찜 목록, wishlists 테이블)
- [x] 주문 상세 보기 흰 화면 수정 (createPortal, 로딩/빈 데이터 처리)
- [x] 장바구니 삭제 / 찜 해제 시 "정말 삭제하시겠습니까?" 확인 모달

---

## 🔴 해야 할 일 (우선)

- [x] **리뷰** – 상품별 리뷰 작성/조회 (DB·API·UI 연동 완료. `database/008_reviews.sql` 실행 필요)
- [x] **쿠폰** – 주문 시 쿠폰 선택·적용, 할인 금액 반영 (coupons, user_coupons). `database/009_coupons.sql` 실행 필요
- [x] **검색** – 상품명/브랜드 검색 완성 (헤더 검색창 연동)

---

## 🟡 해야 할 일 (중요)

- [x] **배송 추적** – 주문 상세에 `tracking_number`, 택배사 링크 표시 (OrderDetailModal + lib/tracking.ts)
- [x] **관리자(Admin) 1단계** – 주문/해외배송: 실제 DB 연동, 상태·택배사·송장·메모 수정 (`010_admin_users.sql`, `011_admin_orders_policy.sql` 실행 후 관리자 계정 등록 필요)
- [ ] **관리자(Admin) 2단계~** – 상품 등록/수정, 회원 조회 등
- [ ] **재고 표시** – 품절/재고 부족 시 장바구니·구매 버튼 비활성화 등
- [ ] **라이브 방송 관리** – 관리자: 썸네일, 제목, 영상 링크, 제품 링크 + (추가 예정) 예정일, 진행/종료 상태. 사이트에서 임베드 송출 (FB iframe 활용)

---

## 🟠 추후 검토

- [ ] 포인트/적립금 사용 내역 페이지
- [ ] 실시간 알림 (Supabase Realtime)
- [ ] 환율 표시 (exchange_rates)
- [ ] 관세 계산기
- [ ] 쿠폰 자동 발급, 1:1 문의
- [ ] 배너/이벤트 관리
- [ ] **Stripe** 실제 결제 연동 (현재는 주문 생성만) – PG 연동 방안 확정: Stripe

---

## 📌 문서·운영

- [ ] `STEP_BY_STEP.md` – Step 0~11 상태를 완료(✅)로 업데이트
- [ ] Supabase SQL 미실행 분 확인 – `006_wishlists.sql` 등 필요한 스크립트 실행 여부 점검

---

## 📺 라이브 방송 (참고)

- **방식**: 페이스북에서 라이브 송출 → 해당 영상/라이브 **링크**를 우리 DB에 등록 → 사이트의 "라이브" 페이지에서 **임베드**로 재생.
- **가능 여부**: 가능합니다. Facebook은 [포스트/라이브 영상 임베드](https://developers.facebook.com/docs/plugins/embedded-video-player)를 지원하므로, 링크만 저장해 두었다가 우리 페이지에 iframe/embed로 넣으면 사용자는 우리 사이트 안에서 시청하는 것처럼 보입니다.
- **관리자 관리 항목**: 썸네일 이미지, 제목, 영상 링크(페이스북 등), 제품 링크(연결할 상품/페이지). **추가 예정**: 예정일(방송 일시), 진행/종료 상태. 사용자용 라이브 목록/상세 페이지에서 임베드 재생 + 제품 링크 노출.

---

**마지막 업데이트**: 2026-02-10
